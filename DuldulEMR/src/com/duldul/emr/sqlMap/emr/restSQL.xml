<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
    "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Rest">
	<select id="getRest" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		
		SELECT TO_CHAR(R.REPORTING,'YYYY-MM-DD') AS REPORTING, TO_CHAR(R.START_DATE,'YYYY-MM-DD') || ' ~ ' || TO_CHAR(R.END_DATE,'YYYY-MM-DD') AS TERM,
		R.R_REASON,C.CODE_NAME AS R_CHECK
		FROM REST R LEFT OUTER JOIN(SELECT * FROM CODEDATA WHERE BIG='11')C
	    ON R.R_CHECK = C.SMALL
	    WHERE 1=1
	    ORDER BY REPORTING DESC
	</select>
	<select id="getRestCount" parameterClass="java.util.HashMap" resultClass="Integer">
		SELECT COUNT(*) AS CNT
		FROM REST
		WHERE 1=1
	</select>
</sqlMap>